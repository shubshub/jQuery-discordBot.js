var communityCash = 1000;

var possible = ' :smile: :smiley: :stuck_out_tongue: :neutral_face: :ok_hand: :100: :eggplant: :fork_and_knife: :yum: :weary: :tired_face: :poop: :open_mouth: :wink: :a: :musical_score: :grinning: :grimacing: :grin: :joy: :smiley: :smile: :sweat_smile: :laughing: :innocent: :wink: :blush: :slight_smile: :upside_down: :relaxed: :yum: :relieved: :heart_eyes: :kissing_heart: :kissing: :kissing_smiling_eyes: :kissing_closed_eyes: :stuck_out_tongue_winking_eye: :stuck_out_tongue_closed_eyes: :stuck_out_tongue: :money_mouth: :nerd: :sunglasses: :hugging: :smirk: :no_mouth: :neutral_face: :expressionless: :unamused: :rolling_eyes: :thinking: :flushed: :smile: :smiley: :stuck_out_tongue: :neutral_face: :ok_hand: :100: :eggplant: :fork_and_knife: :yum: :weary: :tired_face: :poop: :open_mouth: :wink: :a: :musical_score: :grinning: :grimacing: :grin: :joy: :smiley: :smile: :sweat_smile: :laughing: :innocent: :wink: :blush: :slight_smile: :upside_down: :relaxed: :yum: :relieved: :heart_eyes: :kissing_heart: :kissing: :kissing_smiling_eyes: :kissing_closed_eyes: :stuck_out_tongue_winking_eye: :stuck_out_tongue_closed_eyes: :stuck_out_tongue: :money_mouth: :nerd: :sunglasses: :hugging: :smirk: :no_mouth: :neutral_face: :expressionless: :unamused: :rolling_eyes: :thinking: :flushed: :disappointed: :worried: :angry: :rage: :pensive: :confused: :slight_frown: :frowning2: :persevere: :confounded: :tired_face: :weary: :triumph: :open_mouth: :scream: :fearful: :cold_sweat: :hushed: :frowning: :anguished: :cry: :disappointed_relieved: :sleepy: :sweat: :sob: :dizzy_face: :astonished: :dog: :cat: :mouse: :hamster: :rabbit: :bear: :panda_face: :koala: :tiger: :lion_face: :cow: :pig: :pig_nose: :frog: :octopus: :monkey_face: :see_no_evil: :hear_no_evil: :speak_no_evil: :monkey: :chicken: :penguin: :bird: :baby_chick: :hatching_chick: :hatched_chick: :wolf: :boar: :horse: :unicorn: :bee: :bug: :snail: :beetle: :ant: :spider: :scorpion: :crab: :snake: :turtle: :tropical_fish: :fish: :blowfish: :dolphin: :whale: :whale2: :crocodile: :leopard: :tiger2: :water_buffalo: :ox: :cow2: :dromedary_camel: :camel: :elephant: :goat: :ram: :sheep: :racehorse: :pig2: :rat: :mouse2: :rooster: :turkey: :dove: :dog2: :poodle: :cat2: :rabbit2: :chipmunk: :feet: :dragon: :dragon_face: :cactus: :christmas_tree: :evergreen_tree: :deciduous_tree: :palm_tree: :seedling: :herb: :four_leaf_clover: :bamboo: :tanabata_tree: :leaves: :fallen_leaf: :maple_leaf: :ear_of_rice: :hibiscus: :sunflower: :rose: :tulip: :blossom: :cherry_blossom: :bouquet: :mushroom: :chestnut: :jack_o_lantern: :shell: :spider_web: :green_apple: :apple: :pear: :tangerine: :lemon: :banana: :watermelon: :grapes: :strawberry: :melon: :cherries: :peach: :pineapple: :tomato: :eggplant: :hot_pepper: :corn: :sweet_potato: :honey_pot: :bread: :cheese: :poultry_leg: :meat_on_bone: :fried_shrimp: :egg: :hamburger: :fries: :hotdog: :pizza: :spaghetti: :taco: :burrito: :ramen: :stew: :fish_cake: :sushi: :bento: :curry: :rice_ball: :rice: :rice_cracker: :oden: :dango: :shaved_ice: :ice_cream: :cake: :birthday: :custard: :candy: :lollipop: :chocolate_bar: :popcorn: :doughnut: :cookie: :beer: :beers: :wine_glass: :cocktail: :tropical_drink: :champagne: :sake: :tea: :coffee: :baby_bottle: :fork_and_knife: :fork_knife_plate: :soccer: :basketball: :football: :baseball: :tennis: :volleyball: :rugby_football: :8ball: :golf: :golfer: :ping_pong: :badminton: :hockey: :field_hockey: :cricket: :ski: :skier: :snowboarder: :golfer: :ping_pong: :badminton: :hockey: :field_hockey: :cricket: :ski: :skier: :snowboarder: :ice_skate: :bow_and_arrow: :fishing_pole_and_fish: :rowboat: :swimmer: :surfer: :bath: :basketball_player: :lifter: :bicyclist: :mountain_bicyclist: :horse_racing: :levitate: :trophy: :running_shirt_with_sash: :medal: :military_medal: :reminder_ribbon: :rosette: :ticket: :tickets: :performing_arts: :art: :circus_tent: :microphone: :headphones: :musical_score: :musical_keyboard: :saxophone: :trumpet: :guitar: :violin: :clapper: :video_game: :space_invader: :dart: :game_die: :slot_machine: :bowling: :red_car: :taxi: :blue_car: :bus: :trolleybus: :race_car: :police_car: :ambulance: :fire_engine: :minibus: :articulated_lorry: :tractor: :motorcycle: :bike: :rotating_light: :oncoming_police_car: :oncoming_bus: :oncoming_automobile: :oncoming_taxi: :aerial_tramway: :mountain_cableway: :suspension_railway: :railway_car: :train: :monorail: :bullettrain_side: :bullettrain_front: :light_rail: :mountain_railway: :steam_locomotive: :train2: :metro: :tram: :station: :helicopter: :airplane_small: :rosette: :ticket: :tickets: :performing_arts: :art: :circus_tent: :microphone: :headphones: :musical_score: :musical_keyboard: :saxophone: :trumpet: :guitar: :violin: :clapper: :video_game: :space_invader: :dart: :game_die: :slot_machine: :bowling: :red_car: :taxi: :blue_car: :bus: :trolleybus: :race_car: :police_car: :ambulance: :fire_engine: :minibus: :articulated_lorry: :tractor: :motorcycle: :bike: :rotating_light: :oncoming_police_car: :oncoming_bus: :oncoming_automobile: :oncoming_taxi: :aerial_tramway: :mountain_cableway: :suspension_railway: :railway_car: :train: :monorail: :bullettrain_side: :bullettrain_front: :light_rail: :mountain_railway: :steam_locomotive: :train2: :metro: :tram: :station: :helicopter: :airplane_small: :airplane: :airplane_departure: :airplane_arriving: :sailboat: :motorboat: :speedboat: :ferry: :cruise_ship: :rocket: :satellite_orbital: :seat: :anchor: :construction: :fuelpump: :busstop: :vertical_traffic_light: :traffic_light: :checkered_flag: :ship: :ferris_wheel: :roller_coaster: :carousel_horse: :construction_site: :foggy: :tokyo_tower: :factory: :fountain: :rice_scene: :mountain: :mountain_snow: :mount_fuji: :volcano: :japan: :camping: :tent: :park: :watch: :iphone: :calling: :computer: :keyboard: :desktop: :printer: :mouse_three_button: :trackball: :joystick: :compression: :minidisc: :floppy_disk: :cd: :dvd: :vhs: :camera: :camera_with_flash: :video_camera: :movie_camera: :projector: :film_frames: :telephone_receiver: :telephone: :pager: :fax: :tv: :radio: :microphone2: :level_slider: :control_knobs: :stopwatch: :timer: :alarm_clock: :clock: :hourglass_flowing_sand: :hourglass: :satellite: :battery: :electric_plug: :bulb: :flashlight: :candle: :wastebasket: :oil: :money_with_wings: :dollar: :yen: :euro: :pound: :"moneybag": :credit_card: :gem: :scales: :wrench: :hammer: :hammer_pick: :tools: :pick: :nut_and_bolt: :gear: :chains: :gun: :bomb: :knife: :dagger: :crossed_swords: :shield: :smoking: :skull_crossbones: :coffin: :urn: :amphora: :crystal_ball: :prayer_beads: :barber: :alembic: :telescope: :microscope: :hole: :pill: :syringe: :thermometer: :label: :bookmark: :toilet: :shower: :bathtub: :key: :key2: :couch: :sleeping_accommodation: :bed: :door: :bellhop: :frame_photo: :map: :beach_umbrella: :moyai: :book: :link: :paperclip: :paperclips: :scissors: :triangular_ruler: :straight_ruler: :pushpin: :round_pushpin: :triangular_flag_on_post: :flag_white: :flag_black: :closed_lock_with_key: :lock: :unlock: :lock_with_ink_pen: :pen_ballpoint: :pen_fountain: :black_nib: :pencil: :pencil2: :crayon: :paintbrush: :mag: :mag_right: :heart: :yellow_heart: :green_heart: :blue_heart: :purple_heart: :broken_heart: :heart_exclamation: :two_hearts: :revolving_hearts: :heartbeat: :heartpulse: :sparkling_heart: :cupid: :gift_heart: :heart_decoration: :peace: :cross: :star_and_crescent: :om_symbol: :wheel_of_dharma: :star_of_david: :six_pointed_star: :menorah: :yin_yang: :orthodox_cross: :place_of_worship: :ophiuchus: :aries: :taurus: :gemini: :cancer: :leo: :virgo: :libra: :scorpius: :sagittarius: :capricorn: :aquarius: :pisces: :id: :atom: :u7a7a: :u5272: :radioactive: :biohazard: :mobile_phone_off: :vibration_mode: :u6709: :u7121: :u7533: :u55b6: :u6708: :eight_pointed_black_star: :vs: :accept: :white_flower: :ideograph_advantage: :secret: :congratulations: :u5408: :u6e80: :u7981: :a: :b: :ab: :cl: :o2: :sos: :no_entry: :name_badge: :no_entry_sign: :x: :clock11: :clock12: :clock130: :clock230: :clock330: :clock430: :clock530: :clock630: :clock730: :clock830: :clock930: :clock1030: :clock1130: :clock1230: :eye_in_speech_bubble: :flag_ac: :flag_af: :flag_al: :flag_dz: :flag_ad: :flag_ao: :flag_ai: :flag_ag: :flag_ar: :flag_am: :flag_aw: :flag_au: :flag_at: :flag_az: :flag_bs: :flag_bh: :flag_bd: :flag_bb: :flag_by: :flag_be: :flag_bz: :flag_bj: :flag_bm: :flag_bt: :flag_bo: :flag_ba: :flag_bw: :flag_br: :flag_bn: :flag_bg: :flag_bf: :flag_bi: :flag_cv: :flag_kh: :flag_cm: :flag_ca: :flag_ky: :flag_cf: :flag_td: :flag_cl: :flag_cn: :flag_co: :flag_km: :flag_cg: :flag_cd: :flag_cr: :flag_hr: :flag_cu: :flag_cy: :flag_cz: :flag_dk: :flag_dj: :flag_dm: :flag_do: :flag_ec: :flag_eg: :flag_sv: :flag_gq: :flag_er: :flag_ee: :flag_et: :flag_fk: :flag_fo: :flag_fj: :flag_fi: :flag_fr: :flag_pf: :flag_ga: :flag_gm: :flag_ge: :flag_de: :flag_gh:';
var newPossible = possible.split(" ");

var addArray = ["+","+","+","+","+","+","+","+","-","-","-","-","-","-","-","-","-","-"];
var adding = []
function roll(nothing,chan,userId)
{
	if (isNaN(window[userId+"points"]))
	{
		window[userId+"points"] = 0;
	}
	sendMessage("The Slot Machine is Slotting!",chan);
	currentUser = userId;
	var addMinus1 = Math.floor(Math.random() * (addArray.length - 0 + 0)) + 0;
	var addMinus2 = Math.floor(Math.random() * (addArray.length - 0 + 0)) + 0;
	var addMinus3 = Math.floor(Math.random() * (addArray.length - 0 + 0)) + 0;
	var rand = [];
	rand[0] = Math.floor(Math.random() * (newPossible.length - 0 + 0)) + 0;
	rand[1] = Math.floor(Math.random() * (newPossible.length - 0 + 0)) + 0;
	rand[2] = Math.floor(Math.random() * (newPossible.length - 0 + 0)) + 0;
	adding[0] = addArray[addMinus1];
	adding[1] = addArray[addMinus2];
	adding[2] = addArray[addMinus3];
	
	for (var i = 0; i < rand.length; i++)
	{
		if (adding[i] == "+")
		{
			window[userId+"points"]+=rand[i];		
		}
		else
		{
			window[userId+"points"]-=rand[i];
		}

	}
	setTimeout(function(){sendMessage("The results!\n"+adding[0]+"["+newPossible[rand[0]]+"] "+adding[1]+"["+newPossible[rand[1]]+"] "+adding[2]+"["+newPossible[rand[2]]+"] and now have "+window[userId+"points"]+" points",chan)},1000);
	
	storeData(1,userId+"points",window[userId+"points"],slotCallback);
}

function mycoins(nothing,chan,userId)
{
	sendMessage("<@"+userId+"> you have "+window[userId+"points"]+" points!",chan);
}